// 存储对象模型 - 用于管理文件存储信息
model StorageObject {
  id             String          @id @default(uuid()) @db.Uuid
  provider       StorageProvider
  bucket         String
  objectKey      String          @map("object_key")
  contentType    String?         @map("content_type")
  sizeBytes      BigInt          @default(0) @map("size_bytes")
  checksumSha256 String?         @map("checksum_sha256")
  createdBy      String?         @map("created_by")
  createdAt      DateTime        @default(now()) @map("created_at") @db.Timestamptz(6)

  // 关联关系
  uploader User? @relation(fields: [createdBy], references: [id])

  // 反向关联
  recordingFiles MeetingRecordingFile[]

  @@unique([provider, bucket, objectKey])
  @@map("storage_objects")
}

enum StorageProvider {
  LOCAL // 本地存储
  OSS // 阿里云OSS
  COS // 腾讯云COS
  S3 // AWS S3
}
